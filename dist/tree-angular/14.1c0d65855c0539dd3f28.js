(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{iFQ4:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));const c={blue:{id:"blue",productName:"Ledger\xa0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096},nanoS:{id:"nanoS",productName:"Ledger\xa0Nano\xa0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096},nanoX:{id:"nanoX",productName:"Ledger\xa0Nano\xa0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},i=Object.values(c),r=11415,a=e=>{const t=i.find(t=>t.legacyUsbProductId===e);if(t)return t;const n=e>>8;return i.find(e=>e.productIdMM===n)},o=[],s={};for(let d in c){const e=c[d],{bluetoothSpec:t}=e;if(t)for(let n=0;n<t.length;n++){const c=t[n];o.push(c.serviceUuid),s[c.serviceUuid]=s[c.serviceUuid.replace(/-/g,"")]={deviceModel:e,...c}}}},lfNz:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var c=n("iFQ4");const i=[{vendorId:c.b}];async function r(){return await navigator.usb.requestDevice({filters:i})}async function a(){return(await navigator.usb.getDevices()).filter(e=>e.vendorId===c.b)}async function o(){const e=await a();return e.length>0?e[0]:r()}const s=()=>Promise.resolve(!!navigator&&!!navigator.usb&&"function"==typeof navigator.usb.getDevices)},"r+TU":function(e,t,n){"use strict";n.r(t),(function(e){n.d(t,"default",(function(){return u}));var c=n("9oXm"),i=n("yG1/"),r=n.n(i),a=n("iFQ4"),o=n("vULT"),s=n("qPxQ"),d=n("lfNz");class u extends c.a{constructor(t,n){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=t=>this.exchangeAtomicImpl(async()=>{const{channel:n,packetSize:c}=this;Object(o.a)("apdu","=> "+t.toString("hex"));const i=r()(n,c),a=i.makeBlocks(t);for(let e=0;e<a.length;e++)await this.device.transferOut(3,a[e]);let s,d;for(;!(s=i.getReducedResult(d));){const t=await this.device.transferIn(3,c),n=e.from(t.data.buffer);d=i.reduceResponse(d,n)}return Object(o.a)("apdu","<= "+s.toString("hex")),s}).catch(e=>{if(e&&e.message&&e.message.includes("disconnected"))throw this._emitDisconnect(e),new s.DisconnectedDeviceDuringOperation(e.message);throw e}),this.device=t,this.interfaceNumber=n,this.deviceModel=Object(a.a)(t.productId)}static async request(){const e=await Object(d.d)();return u.open(e)}static async openConnected(){const e=await Object(d.b)();return 0===e.length?null:u.open(e[0])}static async open(e){await e.open(),null===e.configuration&&await e.selectConfiguration(1),await e.reset();const t=e.configurations[0].interfaces.find(({alternates:e})=>e.some(e=>255===e.interfaceClass));if(!t)throw new s.TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const n=t.interfaceNumber;try{await e.claimInterface(n)}catch(r){throw await e.close(),new s.TransportInterfaceNotAvailable(r.message)}const c=new u(e,n),i=t=>{e===t.device&&(navigator.usb.removeEventListener("disconnect",i),c._emitDisconnect(new s.DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",i),c}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await this.device.reset(),await this.device.close()}setScrambleKey(){}}u.isSupported=d.c,u.list=d.b,u.listen=e=>{let t=!1;return Object(d.a)().then(n=>{if(!t){const t=Object(a.a)(n.productId);e.next({type:"add",descriptor:n,deviceModel:t}),e.complete()}},t=>{window.DOMException&&t instanceof window.DOMException&&18===t.code?e.error(new s.TransportWebUSBGestureRequired(t.message)):e.error(new s.TransportOpenUserCancelled(t.message))}),{unsubscribe:function(){t=!0}}}}).call(this,n("tjlA").Buffer)},"yG1/":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n("qPxQ");function i(t){const n=e.alloc(2);return n.writeUInt16BE(t,0),n}const r={data:e.alloc(0),dataLength:0,sequence:0};t.default=(t,n)=>({makeBlocks(c){let r=e.concat([i(c.length),c]);const a=n-5,o=Math.ceil(r.length/a);r=e.concat([r,e.alloc(o*a-r.length+1).fill(0)]);const s=[];for(let n=0;n<o;n++){const c=e.alloc(5);c.writeUInt16BE(t,0),c.writeUInt8(5,2),c.writeUInt16BE(n,3);const i=r.slice(n*a,(n+1)*a);s.push(e.concat([c,i]))}return s},reduceResponse(n,i){let{data:a,dataLength:o,sequence:s}=n||r;if(i.readUInt16BE(0)!==t)throw new c.TransportError("Invalid channel","InvalidChannel");if(5!==i.readUInt8(2))throw new c.TransportError("Invalid tag","InvalidTag");if(i.readUInt16BE(3)!==s)throw new c.TransportError("Invalid sequence","InvalidSequence");n||(o=i.readUInt16BE(5)),s++;const d=i.slice(n?5:7);return a=e.concat([a,d]),a.length>o&&(a=a.slice(0,o)),{data:a,dataLength:o,sequence:s}},getReducedResult(e){if(e&&e.dataLength===e.data.length)return e.data}})}).call(this,n("tjlA").Buffer)}}]);